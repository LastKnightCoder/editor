import{j as s,a as x,F as f,b as _,m as v}from"./index-a214538e.js";import{r as c}from"./react-51129ece.js";import"./katex-3eb4982e.js";import"./mermaid-5603ff64.js";const y=t=>{var i,o,n;switch(t.type){case"formatted":return t.text;case"link":return(i=t.children)==null?void 0:i[0].text;case"inline-math":return t.tex;case"underline":return(o=t.children)==null?void 0:o[0].text;case"styled-text":return(n=t.children)==null?void 0:n[0].text;default:return""}},p="_outlineContainer_1hhom_1",j="_header_1hhom_6",w="_active_1hhom_10",h={outlineContainer:p,header:j,active:w},C=t=>{const{headers:i,className:o,style:n,onClick:r}=t;return s.jsx("div",{className:x(h.outlineContainer,o),style:n,children:s.jsx(f,{data:i,renderItem:(l,e)=>s.jsx("div",{className:h.header,"data-level":l.level,onClick:()=>{r==null||r(e)},children:l.title},e)})})},E="_outline_u73au_1",N="_hide_u73au_12",m={outline:E,hide:N},g=t=>{const{className:i,style:o,content:n,show:r,onClickHeader:l}=t,e=c.useRef(null);c.useEffect(()=>{if(e.current)if(r)e.current.style.width="auto",e.current.style.overflow="visible",e.current.style.position="static";else{const d=e.current.clientWidth;e.current.style.width=`${d}px`,e.current.style.overflow="hidden"}},[r]);const u=c.useMemo(()=>n?n.filter(a=>a.type==="header").map(a=>({level:a.level,title:a.children.map(y).join("")})):[],[n]);return s.jsx(_,{condition:u.length>0,children:s.jsx(v.div,{layout:!0,layoutRoot:!0,className:x(m.outline,{[m.hide]:!r},i),style:o,children:s.jsx("div",{ref:e,children:s.jsx(C,{headers:u,onClick:l})})})})};export{g as E};
